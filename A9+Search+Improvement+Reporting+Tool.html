<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>A9 Search Improvement Reporting Tool</title>
	<link href="A9%20Search%20Improvement%20Reporting%20Tool_files/bootstrap.css" rel="stylesheet">
	<link href="A9%20Search%20Improvement%20Reporting%20Tool_files/bootstrap-theme.css" rel="stylesheet">
    <link rel="stylesheet" media="screen" href="A9%20Search%20Improvement%20Reporting%20Tool_files/application_without_nav-e3b0c44298fc1c149afbf4c8996fb92427ae.css">
  	<style>
  		body { padding-top: 70px; }
  		.delete-btn { padding: 0px; }
  		form.edit_judgment_sample, form.edit_judgment_snapshot { display: inline;}
  		.footer {
		    position: absolute;
		    bottom: 0;
		    width: 100%;
		    height: 60px;
		    background-color: #f5f5f5;
		}
  	</style>
	<meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="GboNlW+3HyPjhai2KD6hexJJHHcK/fg0+ipTfzBbdeBhQmjt8tpF4T8HKgw7IIRVvk8+mDNohp3OQJ/wKOS+1A==">
    <script src="A9%20Search%20Improvement%20Reporting%20Tool_files/application_without_nav-336427d6d60d4e44dab2f153227a3ee63ccf7.js"></script>   
<script src="A9%20Search%20Improvement%20Reporting%20Tool_files/patchingutil.js" id="patching-util-aea-browser-extension"></script></head>

<body>
	<div class="container-fluid">
		<div id="snapshot-content" class="hide" data-src="https://a9-cs-sirt-prod.corp.amazon.com/snapshots/SEARCH_TEN_403320_AE_inverse_transform_with_simulations_2022_01_18T21_02_07.105792_v1_C_1642922586/00108_image.jpg">
</div>
<header class="navbar navbar-inverse navbar-fixed-top">
	<div class="container-fluid">	
		<nav class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-left">
				<li>
					<a href="https://a9-cs-sirt-prod.corp.amazon.com/judgment_samples/30340?task_index=108"><span class="glyphicon glyphicon-chevron-left"></span> Back to Sample</a>
				</li>
			</ul>
			<ul class="nav navbar-nav">
			</ul>
			<ul class="nav navbar-nav navbar-right">
				<li><a href="javascript:void(0)"><span class="glyphicon glyphicon-user" aria-hidden="true"></span>&nbsp;pasanh</a></li>
				<li class="dropdown">
					<a href="javascript:void(0)" aria-hidden="true">admin</a>
				</li>	
			</ul>
		</nav>
	</div>	
</header>
<form method="post" action="/judgment_sample_tasks/update" autocomplete="off">
<input type="hidden" name="task_id" value="163439972">
<input type="hidden" name="task_index" value="108">
<input type="hidden" name="form_fields" value="exact,substitute,complement,irrelevant,other">
<input type="hidden" name="start_time" value="1643044275">
<div id="search-info-row" class="row">
	<div class="col-md-8">
		<h3 class="pull-left" style="margin:0px;padding-top:2px;">
			bbq grill weber
			<span style="display:block;font-size:14px">
				<i>(search-alias: aps)</i>
			</span>
		</h3>
		<div class="dropdown pull-left search-info-item">
			<a href="#" class="dropdown-toggle" id="weblabsList" data-toggle="dropdown" aria-haspopup="true">
		    	Weblabs
		    	<span class="caret"></span>
			</a>
			<ul class="dropdown-menu" aria-labelledby="weblabsList">
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_TEN_403320" target="_blank">SEARCH_TEN_403320:C</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_GSQ_387013" target="_blank">SEARCH_GSQ_387013:C</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_TEN_367085" target="_blank">SEARCH_TEN_367085:C</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_DISJUNCTIONS_TEN_382393" target="_blank">SEARCH_DISJUNCTIONS_TEN_382393:C</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_LANES_GATING_307890" target="_blank">SEARCH_LANES_GATING_307890:C</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_TEN_399551" target="_blank">SEARCH_TEN_399551:T1</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_TEN_388797" target="_blank">SEARCH_TEN_388797:C</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_TEN_QBA_FILTERING_398639" target="_blank">SEARCH_TEN_QBA_FILTERING_398639:C</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_400596" target="_blank">SEARCH_400596:C</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_344554" target="_blank">SEARCH_344554:T1</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_NAV_393862" target="_blank">SEARCH_NAV_393862:C</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_263226" target="_blank">SEARCH_263226:C</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_TO_DP_SIZE_PRESERVATION_LAUNCH_384900" target="_blank">SEARCH_TO_DP_SIZE_PRESERVATION_LAUNCH_384900:T1</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_231373" target="_blank">SEARCH_231373:T1</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SPONSORED_PRODUCTS_400929" target="_blank">SPONSORED_PRODUCTS_400929:T1</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_TEN_403320" target="_blank">SEARCH_TEN_403320:T1</a></li>
						<li><a href="https://weblab-redesign.amazon.com/#SEARCH_TEN_403320" target="_blank">SEARCH_TEN_403320:T2</a></li>
			</ul>
		</div>
			<a href="https://www.amazon.ae/s?url=search-alias%3Daps&amp;field-keywords=bbq+grill+weber&amp;sort=relevanceblender&amp;language=ar_AE" target="_blank" class="pull-left search-info-item">amazon.ae: aps</a>
			<a href="https://www.google.com/search?q=bbq+grill+weber%20site:amazon.ae" target="_blank" class="pull-left search-info-item">Google site:Amazon</a>
			<a href="https://www.google.com/search?q=bbq+grill+weber" target="_blank" class="pull-left search-info-item">Google</a>
		<a href="https://analytics.search.amazon.com/controller.php?rn=comprehensive#query=bbq%20grill%20weber&amp;marketplace=338801&amp;alias=aps" target="_blank" class="pull-left search-info-item">Query Analysis</a>
	</div>
	<div class="col-md-4">
		<div id="completionProgress">
			<div style="overflow:hidden;">
				<span id="completionNumbers" class="pull-left text-info">0/13 Complete</span>
				<span id="completionPercent" class="pull-right text-info">0%</span>
			</div>

			<div class="progress">
	  			<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="13" style="width: 0%;">
	  			</div>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-8">
		<input type="hidden" name="_method" value="PUT">
		<div id="asins-section" class="row">
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="1" data-asin="B085CJGP9D" data-selected="true">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/41eC-qDJKxL.jpg" alt="وينر سبيريت II E-310 مع جي بي اس سائل لون اسود" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D9%88%D9%8A%D9%86%D8%B1-%D8%B3%D8%A8%D9%8A%D8%B1%D9%8A%D8%AA-310-%D8%B3%D8%A7%D8%A6%D9%84-%D8%A7%D8%B3%D9%88%D8%AF/dp/B085CJGP9D/ref=sr_1_5?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922604&amp;searchTroubleshooter=1&amp;sr=8-5" target="_blank" title="وينر سبيريت II E-310 مع جي بي اس سائل لون اسود">
										وينر سبيريت II E-310 مع جي بي اس سائل لون اسود
									</a>
								</h4>

								
									<p><span class="text-danger">3,716.25&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284748" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284748" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284748" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284748" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284748" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="2" data-asin="B005LR2MVW">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/713H5wVocsL.jpg" alt="مجموعة أدوات ستانلس ستيل 3 قطع أصلية 6630 من ويبر، اسود، 0.525x0.22x0.075" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D9%85%D8%AC%D9%85%D9%88%D8%B9%D8%A9-%D8%A3%D8%AF%D9%88%D8%A7%D8%AA-%D8%B3%D8%AA%D8%A7%D9%86%D9%84%D8%B3-6630-0-525x0-22x0-075/dp/B005LR2MVW/ref=sr_1_6?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922604&amp;searchTroubleshooter=1&amp;sr=8-6" target="_blank" title="مجموعة أدوات ستانلس ستيل 3 قطع أصلية 6630 من ويبر، اسود، 0.525x0.22x0.075">
										مجموعة أدوات ستانلس ستيل 3 قطع أصلية 6630 من ويبر، اسود، 0.525x0.22x0.075
									</a>
								</h4>

								
									<p><span class="text-danger">239.00&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284749" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284749" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284749" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284749" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284749" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="3" data-asin="B0992L5TXT">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/51TiEZLbeRS.jpg" alt="30 &quot;غطاء شواء شواء شواء مقاوم للماء صغير دائري شواء غطاء شواء للخدمة الشاقة غطاء شواء للخدمة الشاقة، بريكانمان، شار، هولندا مقاومة للماء / الرياح / مقاومة للأشعة فوق البنفسجية" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D9%84%D9%84%D8%AE%D8%AF%D9%85%D8%A9-%D8%A7%D9%84%D8%B4%D8%A7%D9%82%D8%A9-%D8%A7%D9%84%D8%B4%D8%A7%D9%82%D8%A9%D8%8C-%D8%A8%D8%B1%D9%8A%D9%83%D8%A7%D9%86%D9%85%D8%A7%D9%86%D8%8C-%D8%A7%D9%84%D8%A8%D9%86%D9%81%D8%B3%D8%AC%D9%8A%D8%A9/dp/B0992L5TXT/ref=sr_1_7?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922604&amp;searchTroubleshooter=1&amp;sr=8-7" target="_blank" title="30 &quot;غطاء شواء شواء شواء مقاوم للماء صغير دائري شواء غطاء شواء للخدمة الشاقة غطاء شواء للخدمة الشاقة، بريكانمان، شار، هولندا مقاومة للماء / الرياح / مقاومة للأشعة فوق البنفسجية">
										30 "غطاء شواء شواء شواء مقاوم للماء صغير دائري شواء غطاء شواء للخدمة الشاقة غطاء شواء للخدمة الشا...
									</a>
								</h4>

								
									<p><span class="text-danger">69.99&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284750" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284750" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284750" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284750" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284750" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="4" data-asin="B07P7SLJVQ">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/31cTgGNw05L.jpg" alt="منظف الشواية والشواء من اتش جي، 500 مل" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D9%85%D9%86%D8%B8%D9%81-%D8%A7%D9%84%D8%B4%D9%88%D8%A7%D9%8A%D8%A9-%D9%88%D8%A7%D9%84%D8%B4%D9%88%D8%A7%D8%A1-%D8%A7%D8%AA%D8%B4-%D8%AC%D9%8A%D8%8C/dp/B07P7SLJVQ/ref=sr_1_8?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922604&amp;searchTroubleshooter=1&amp;sr=8-8" target="_blank" title="منظف الشواية والشواء من اتش جي، 500 مل">
										منظف الشواية والشواء من اتش جي، 500 مل
									</a>
								</h4>

								
									<p><span class="text-danger">30.00&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284751" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284751" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284751" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284751" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284751" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="5" data-asin="B08R1H38H2">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/71mfOnEK2L.jpg" alt="فرشاة تنظيف الشواء من أوركيد إم، فرشاة تنظيف وشواية من الفولاذ المقاوم للصدأ ومكشطة وشعيرات سلكية مضفرة متينة ومقبض غير قابل للانزلاق، ملحقات الشواية وأداة تنظيف الشواية والالغاز والفحم" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D8%A7%D9%84%D9%81%D9%88%D9%84%D8%A7%D8%B0-%D8%A7%D9%84%D9%85%D9%82%D8%A7%D9%88%D9%85-%D9%88%D8%B4%D8%B9%D9%8A%D8%B1%D8%A7%D8%AA-%D9%84%D9%84%D8%A7%D9%86%D8%B2%D9%84%D8%A7%D9%82%D8%8C-%D9%88%D8%A7%D9%84%D8%A7%D9%84%D8%BA%D8%A7%D8%B2/dp/B08R1H38H2/ref=sr_1_9?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922604&amp;searchTroubleshooter=1&amp;sr=8-9" target="_blank" title="فرشاة تنظيف الشواء من أوركيد إم، فرشاة تنظيف وشواية من الفولاذ المقاوم للصدأ ومكشطة وشعيرات سلكية مضفرة متينة ومقبض غير قابل للانزلاق، ملحقات الشواية وأداة تنظيف الشواية والالغاز والفحم">
										فرشاة تنظيف الشواء من أوركيد إم، فرشاة تنظيف وشواية من الفولاذ المقاوم للصدأ ومكشطة وشعيرات سلكية...
									</a>
								</h4>

								
									<p><span class="text-danger">39.00&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284752" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284752" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284752" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284752" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284752" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="6" data-asin="B00026CTZ6">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/71F-MmjQqmL.jpg" alt="ويبر غلاية الفحم" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D9%85%D9%86%D9%82%D9%84-%D9%81%D8%AD%D9%85-%D9%82%D8%B7%D8%B1-57-%D9%88%D9%8A%D8%A8%D8%B1/dp/B00026CTZ6/ref=sr_1_10?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922604&amp;searchTroubleshooter=1&amp;sr=8-10" target="_blank" title="ويبر غلاية الفحم">
										ويبر غلاية الفحم
									</a>
								</h4>

								
									<p><span class="text-danger">899.47&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284753" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284753" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284753" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284753" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284753" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="7" data-asin="B08P5MKL5Z">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/512smxj9krL.jpg" alt="BBQ Grill Cover, LSZGAN Heavy Duty Waterproof Barbecue Gas Grill Cover, UV and Fade Resistant Authentic Oxford Material,Fits Grills of Weber Char-Broil Nexgrill Brinkmann (Black,57inch)" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//dp/B08P5MKL5Z/ref=sr_1_11?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922604&amp;searchTroubleshooter=1&amp;sr=8-11" target="_blank" title="BBQ Grill Cover, LSZGAN Heavy Duty Waterproof Barbecue Gas Grill Cover, UV and Fade Resistant Authentic Oxford Material,Fits Grills of Weber Char-Broil Nexgrill Brinkmann (Black,57inch)">
										BBQ Grill Cover, LSZGAN Heavy Duty Waterproof Barbecue Gas Grill Cover, UV and Fade Resistant Aut...
									</a>
								</h4>

								
									<p><span class="text-danger">99.00&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284754" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284754" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284754" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284754" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284754" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="8" data-asin="B07R6H558K">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/71Yej-F-qML.jpg" alt="مقياس الحرارة الرقمي IBT-6XS مزود بتقنية بلوتوث وواي فاي تصل حتى 45 متر يستخدم عند شواء اللحوم مع المشواة أو أفران الشواء في المطابخ ومزود بعدد 6 مجسات وبطارية قابلة للشحن ومؤقت ومنبه من إينك بيرد" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D8%A7%D9%84%D8%AD%D8%B1%D8%A7%D8%B1%D8%A9-IBT-6XS-%D8%A7%D9%84%D9%85%D8%B4%D9%88%D8%A7%D8%A9-%D8%A7%D9%84%D9%85%D8%B7%D8%A7%D8%A8%D8%AE-%D9%88%D8%A8%D8%B7%D8%A7%D8%B1%D9%8A%D8%A9/dp/B07R6H558K/ref=sr_1_12?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922604&amp;searchTroubleshooter=1&amp;sr=8-12" target="_blank" title="مقياس الحرارة الرقمي IBT-6XS مزود بتقنية بلوتوث وواي فاي تصل حتى 45 متر يستخدم عند شواء اللحوم مع المشواة أو أفران الشواء في المطابخ ومزود بعدد 6 مجسات وبطارية قابلة للشحن ومؤقت ومنبه من إينك بيرد">
										مقياس الحرارة الرقمي IBT-6XS مزود بتقنية بلوتوث وواي فاي تصل حتى 45 متر يستخدم عند شواء اللحوم مع...
									</a>
								</h4>

								
									<p><span class="text-danger">244.00&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284755" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284755" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284755" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284755" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284755" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="9" data-asin="B0044ERTDY">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/71wrPQSt0kL.jpg" alt="شبكة من ويبر 8834" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D9%88%D9%8A%D8%A8%D8%B1-8834-%D8%B4%D8%A8%D9%83%D8%A9-%D9%85%D9%86/dp/B0044ERTDY/ref=sr_1_8?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922609&amp;searchTroubleshooter=1&amp;sr=8-8" target="_blank" title="شبكة من ويبر 8834">
										شبكة من ويبر 8834
									</a>
								</h4>

								
									<p><span class="text-danger">429.64&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284756" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284756" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284756" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284756" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284756" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="10" data-asin="B01N1LUI6W">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/718Oqutl1CL.jpg" alt="لعبة ويبر اي جريل صغيرة, متعددة" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//7220/dp/B01N1LUI6W/ref=sr_1_9?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922609&amp;searchTroubleshooter=1&amp;sr=8-9" target="_blank" title="لعبة ويبر اي جريل صغيرة, متعددة">
										لعبة ويبر اي جريل صغيرة, متعددة
									</a>
								</h4>

								
									<p><span class="text-danger">287.59&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284757" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284757" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284757" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284757" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284757" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="11" data-asin="B00MKB5TXA">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/71uQnSUmBFL.jpg" alt="شواية فحمية أصلية من ويبر 14401001، 22 بوصة، أسود" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D8%B4%D9%88%D8%A7%D9%8A%D8%A9-%D9%81%D8%AD%D9%85-%D8%A3%D8%B5%D9%84%D9%8A%D8%A9-%D9%81%D8%A7%D8%AE%D8%B1%D8%A9-60/dp/B00MKB5TXA/ref=sr_1_10?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922609&amp;searchTroubleshooter=1&amp;sr=8-10" target="_blank" title="شواية فحمية أصلية من ويبر 14401001، 22 بوصة، أسود">
										شواية فحمية أصلية من ويبر 14401001، 22 بوصة، أسود
									</a>
								</h4>

								
									<p><span class="text-danger">2,201.00&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284758" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284758" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284758" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284758" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284758" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="12" data-asin="B08M65VSCY">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/813K6vHAeL.jpg" alt="ويبر طقم تنظيف للشوايات الغازية, 0" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D9%88%D9%8A%D8%A8%D8%B1-%D8%B7%D9%82%D9%85-%D8%AA%D9%86%D8%B8%D9%8A%D9%81-%D9%84%D9%84%D8%B4%D9%88%D8%A7%D9%8A%D8%A7%D8%AA-%D8%A7%D9%84%D8%BA%D8%A7%D8%B2%D9%8A%D8%A9/dp/B08M65VSCY/ref=sr_1_11?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922609&amp;searchTroubleshooter=1&amp;sr=8-11" target="_blank" title="ويبر طقم تنظيف للشوايات الغازية, 0">
										ويبر طقم تنظيف للشوايات الغازية, 0
									</a>
								</h4>

								
									<p><span class="text-danger">235.45&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284759" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284759" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284759" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284759" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284759" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
					<div class="col-sm-6 col-md-4">
						<div class="thumbnail asin-block" data-index="13" data-asin="B00004RALW">
							<img src="A9%20Search%20Improvement%20Reporting%20Tool_files/61UL0m2nInL.jpg" alt="شواية من الخشب سموك فاير (الجيل الثاني) من ويبر" width="175" height="200">
							<div class="caption">
								<h4 style="margin-bottom:5px;">
									<a href="https://www.amazon.ae//%D8%BA%D9%84%D8%A7%D9%8A%D8%A9-%D9%83%D9%87%D8%B1%D8%A8%D8%A7%D8%A6%D9%8A%D8%A9-%D8%A3%D8%B5%D9%84%D9%8A%D8%A9-441001-%D9%88%D9%8A%D8%A8%D8%B1/dp/B00004RALW/ref=sr_1_12?debug=service%2Cfeaturetag&amp;keywords=bbq+grill+weber&amp;pcsResponse=1&amp;qid=1642922609&amp;searchTroubleshooter=1&amp;sr=8-12" target="_blank" title="شواية من الخشب سموك فاير (الجيل الثاني) من ويبر">
										شواية من الخشب سموك فاير (الجيل الثاني) من ويبر
									</a>
								</h4>

								
									<p><span class="text-danger">921.00&nbsp;درهم</span></p>
								

								<div class="hidden">
										<label>
		 										<input type="checkbox" name="exact[]" value="1169284760" data-shortcut-key="e">
		 									Exact
		 								</label>	
										<label>
		 										<input type="checkbox" name="substitute[]" value="1169284760" data-shortcut-key="s">
		 									Substitute
		 								</label>	
										<label>
		 										<input type="checkbox" name="complement[]" value="1169284760" data-shortcut-key="c">
		 									Complement
		 								</label>	
										<label>
		 										<input type="checkbox" name="irrelevant[]" value="1169284760" data-shortcut-key="i">
		 									Irrelevant
		 								</label>	
										<label>
		 										<input type="checkbox" name="other[]" value="1169284760" data-shortcut-key="u">
		 									Unjudgable
		 								</label>	
								</div>
								<!-- End checkboxes -->

								<div class="labels">
									<ul class="list-unstyled">
									</ul>	
								</div>
								<!-- End labels -->
							</div>
						</div>
					</div>
		</div>
	</div>
	<div class="col-md-4">
		<div id="wholePageJudgmentsSection">
			<input type="hidden" name="whole_page_fields" value="">
			<input type="hidden" name="whole_query_fields" value="">
			<input type="hidden" name="keyword_term_fields" value="">
			<div class="panel-group" id="queryTagsAccordion" role="tablist" aria-multiselectable="true">
				<div class="panel panel-default">
					<div class="panel-heading" role="tab" id="queryTagsHeading">
						<h4 class="panel-title">
							<a role="button" data-toggle="collapse" data-parent="#queryTagsAccordion" href="#collapseQueryTags" aria-expanded="true" aria-controls="collapseQueryTags">
	          					ASIN Judgment Shortcuts
	        				</a>
						</h4>
					</div>
					<div id="collapseQueryTags" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="queryTagsHeading">
						<div class="panel-body">
								<div class="row" style="margin-bottom:5px;">
									<div class="col-md-1">
										<strong>
											<span class="text-info">E</span>
										</strong>	
									</div>
									<div class="col-md-11">
										<a href="javascript:void;" data-action="select-field" data-field-value="exact" data-field-label="Exact" data-field-shortcut="e">
											<span class="label label-info">Exact</span>
										</a>	
									</div>
								</div>
								<div class="row" style="margin-bottom:5px;">
									<div class="col-md-1">
										<strong>
											<span class="text-info">S</span>
										</strong>	
									</div>
									<div class="col-md-11">
										<a href="javascript:void;" data-action="select-field" data-field-value="substitute" data-field-label="Substitute" data-field-shortcut="s">
											<span class="label label-info">Substitute</span>
										</a>	
									</div>
								</div>
								<div class="row" style="margin-bottom:5px;">
									<div class="col-md-1">
										<strong>
											<span class="text-info">C</span>
										</strong>	
									</div>
									<div class="col-md-11">
										<a href="javascript:void;" data-action="select-field" data-field-value="complement" data-field-label="Complement" data-field-shortcut="c">
											<span class="label label-info">Complement</span>
										</a>	
									</div>
								</div>
								<div class="row" style="margin-bottom:5px;">
									<div class="col-md-1">
										<strong>
											<span class="text-info">I</span>
										</strong>	
									</div>
									<div class="col-md-11">
										<a href="javascript:void;" data-action="select-field" data-field-value="irrelevant" data-field-label="Irrelevant" data-field-shortcut="i">
											<span class="label label-info">Irrelevant</span>
										</a>	
									</div>
								</div>
								<div class="row" style="margin-bottom:5px;">
									<div class="col-md-1">
										<strong>
											<span class="text-info">U</span>
										</strong>	
									</div>
									<div class="col-md-11">
										<a href="javascript:void;" data-action="select-field" data-field-value="other" data-field-label="Unjudgable" data-field-shortcut="u">
											<span class="label label-info">Unjudgable</span>
										</a>	
									</div>
								</div>
						</div>
						<div class="panel-body" style="background-color:#f7f7f9">
							<div class="row" style="margin-bottom:5px;">
								<div class="col-md-2">
									<strong>
										<span class="text-info">Space</span>
									</strong>	
								</div>
								<div class="col-md-10">
									<small>Open selected ASIN's detail page</small>
								</div>
							</div>
							<div class="row" style="margin-bottom:5px;">
								<div class="col-md-2">
									<strong>
										<span class="text-info">Tab</span>
									</strong>	
								</div>
								<div class="col-md-10">
									<small>Select the next ASIN</small>
								</div>
							</div>
							<div class="row" style="margin-bottom:5px;">
								<div class="col-md-2">
									<strong>
										<span class="text-info">Arrow</span>
									</strong>	
								</div>
								<div class="col-md-10">
									<small>Select left/right/top/bottom of the currently selected ASIN</small>
								</div>
							</div>
							<div class="row">
								<div class="col-md-2">
									<strong>
										<span class="text-info">Ctrl+S</span>
									</strong>
								</div>
								<div class="col-md-10">
									<small>Submit judgments (all ASINs must be judged)</small>
								</div>
							</div>
						</div>
					</div>	
				</div>
			</div>

			<div class="panel-group" id="wholePageAccordion" role="tablist" aria-multiselectable="true">



				<div class="panel panel-default">
					<div class="panel-heading" role="tab" id="commentsHeading">
						<h4 class="panel-title">
							<a role="button" data-toggle="collapse" data-parent="#wholePageAccordion" href="#collapseComments" aria-expanded="true" aria-controls="collapseComments">
	          					Comments
	        				</a>
						</h4>
					</div>
					<div id="collapseComments" class="panel-collapse collapse" role="tabpanel" aria-labelledby="commentsHeading">
						<div class="panel-body">
						    <textarea name="comments" placeholder="Comments" class="form-control"></textarea>
						</div>
					</div>
				</div>

				<div class="panel panel-default">
					<div class="panel-body" style="text-align:right">
						<a href="" class="btn btn-default">Cancel</a>
						<button type="submit" name="commit" value="save" class="btn btn-primary" disabled="disabled">Submit</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>	
</form>

<script type="text/javascript">
	$(function(){

		var alreadySaving = false;
		var totalAsins = $('div.asin-block').length;
		var asinsCompleted = 0;
		var completedAsinsMap = {};
		var auditMode = "" == 'audit' ? true : false;

		var chars = 'a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z'.split(',');
		
    	function getKeyCode(c){
      		var index = chars.indexOf(c);
      		if(index != -1){
        		return 65 + index;
      		}
      		return null;
    	}

    	function deduceShortcutKeys(){
      		var keys = [];
      		var fields = [{"id":646,"judgment_form_id":60,"field_name":null,"field_value":"exact","field_id":null,"field_description":"This product satisfies the query","field_label":"Exact","field_type":null,"created_at":"2018-06-29T00:10:57.000Z","updated_at":"2018-07-06T21:31:11.000Z","whole_page_judgments_form_id":null,"whole_query_judgments_form_id":null,"keyword_term_annotations_form_id":null,"field_shortcut":"e"},{"id":647,"judgment_form_id":60,"field_name":null,"field_value":"substitute","field_id":null,"field_description":"This product is of the same type, but differs by some non-crucial detail","field_label":"Substitute","field_type":null,"created_at":"2018-06-29T00:10:57.000Z","updated_at":"2018-07-19T22:29:49.000Z","whole_page_judgments_form_id":null,"whole_query_judgments_form_id":null,"keyword_term_annotations_form_id":null,"field_shortcut":"s"},{"id":648,"judgment_form_id":60,"field_name":null,"field_value":"complement","field_id":null,"field_description":"An accessory, component, or frequently-bought-together","field_label":"Complement","field_type":null,"created_at":"2018-06-29T00:10:57.000Z","updated_at":"2018-07-19T22:29:49.000Z","whole_page_judgments_form_id":null,"whole_query_judgments_form_id":null,"keyword_term_annotations_form_id":null,"field_shortcut":"c"},{"id":649,"judgment_form_id":60,"field_name":null,"field_value":"irrelevant","field_id":null,"field_description":"The customer would not reasonably be interested in this product","field_label":"Irrelevant","field_type":null,"created_at":"2018-06-29T00:10:57.000Z","updated_at":"2018-07-06T21:31:11.000Z","whole_page_judgments_form_id":null,"whole_query_judgments_form_id":null,"keyword_term_annotations_form_id":null,"field_shortcut":"i"},{"id":650,"judgment_form_id":60,"field_name":null,"field_value":"other","field_id":null,"field_description":"The query is very unclear or the product is missing information necessary to judge","field_label":"Unjudgable","field_type":null,"created_at":"2018-06-29T00:10:57.000Z","updated_at":"2020-05-08T07:17:44.000Z","whole_page_judgments_form_id":null,"whole_query_judgments_form_id":null,"keyword_term_annotations_form_id":null,"field_shortcut":"u"}];
      		for(var i = 0, len = fields.length; i < len; i++){
        		if(fields[i]['field_shortcut'] != null){
          			keys.push(fields[i]['field_shortcut']);
        		} else {
          			keys.push(fields[i]['field_value'].split('_').pop()[0]);
        		}
      		}
      		return keys;
    	}

    	var allowedKeys = (function(){
      		var allowed = deduceShortcutKeys();
      		var keyMap = {};
      		var keyCode = null;
      		for(var i = 0, len = allowed.length; i < len; i++){
        		keyCode = getKeyCode(allowed[i]);
        		if(keyCode){
          			keyMap[keyCode] = allowed[i];
        		}
      		}
      		return keyMap;
    	})();

		var delay = (function(){
		  var timer = 0;
		  return function(callback, ms){
		    clearTimeout (timer);
		    timer = setTimeout(callback, ms);
		  };
		})();

		function handlePageSave(e){
			e.preventDefault();
			$('form').submit();
		}

		function _scrollToEle (el) {
			var container = $('#asins-section');
      		var elTop = el.parent().position().top;
      		var scrollPos = container.scrollTop();
      		var winHeight = container.height();
      		if(elTop < scrollPos){
        		container.scrollTop(elTop - 50);
      		} else if((elTop + el.height()) > scrollPos ){
        		container.scrollTop(elTop);
      		}
    	}

		// returns the 1-indexed currently selected task, or index 1 if there's no selection
		function getSelectedItemIndex(){
			var selectedTask = $('div[data-selected]');
			return selectedTask.length > 0 ? parseInt(selectedTask.data('index'), 10) : 1;
		}

		function selectItemByIndex(index){
			$('div[data-selected]').removeAttr('data-selected'); // deselect the old task

			// figure out which element to select
			index = (index - 1) % totalAsins; // convert to zero-indexed
			if(index < 0) index += totalAsins;
			index += 1; // convert back to one-indexed

			// select the new task
			var newSelection = $('div[data-index=' + index + ']');
			newSelection.attr('data-selected', 'true');
			_scrollToEle(newSelection);
		}

		function handleSpace(){
			var target = $('div[data-selected] h4 a').attr('href');
			window.open(target, '_blank');
		}

		function handleTabKey(moveBackward){
			var newIndex = getSelectedItemIndex() + (moveBackward ? -1 : 1);
			selectItemByIndex(newIndex);
		}

		function handleMovementY(moveBackward){
			var index = getSelectedItemIndex() - 1; // zero-indexed task

			// compute the number of columns being displayed
			var columnCount = 0;
			var items = $('div.asin-block');
			var firstTopOffset = items.first().offset().top;
			items.each(function(i, element) {
				var topOffset = $(element).offset().top;
				if(topOffset === firstTopOffset) columnCount ++;
			});

			// number of items, rounded up to nearest full row
			var fullSelectableCount = totalAsins + columnCount - (totalAsins % columnCount);

			// new index of the item after applying the movement, if we assumed that all the rows are filled with items
			var newIndex = (index + (moveBackward ? -columnCount : columnCount) + fullSelectableCount) % fullSelectableCount;

			// correct the index if the last row is not filled with items
			if(newIndex >= totalAsins) {
				if(moveBackward){ // moving up when on the first row and there's no corresponding item in the last row, move to the second to last row
					newIndex -= columnCount;
				} else { // moving down when there's no corresponding item below, move to the first row
					newIndex = newIndex % columnCount;
				}
			}

			selectItemByIndex(newIndex + 1);
		}

		function handleOtherKeys(e){
			e.preventDefault();
			var key = allowedKeys[e.which]
			handleLabelChange(key);
		}

		function handleLabelChange(key){
			// don't handle label change if form has already been submitted
			if(key != null && !alreadySaving){
				var check = $('div.thumbnail[data-selected] input[data-shortcut-key=' + key + ']');
				check.prop('checked', !check.prop('checked'));
				var form_type = "one_of_many";
				if(form_type != 'many_of_many'){
					var checks = $('div.thumbnail[data-selected] input[type=checkbox]').filter(function(){
						return $(this).attr('data-shortcut-key') != key;
					});
					checks.prop('checked', false);
				}
				updateCheckLabels(check);
				updateProgress(check);

				// move to the next item after the judgement is made
				handleTabKey(false);
			}
		}

		$(document).keydown(function(e){
			if(!alreadySaving && (e.ctrlKey || e.metaKey) && e.which === 83){
				if(asinsCompleted === totalAsins) {
					handlePageSave(e);
					alreadySaving = true;
				}
				else {
					e.preventDefault();
				}
		    } else if(e.which !== 9 && e.target.tagName.toLowerCase() === 'textarea'){
		        return true;
		    }

			if(e.which === 32){ // space key
				handleSpace();
			}else if(e.which === 37){ // left arrow key
				handleTabKey(true);
			}else if(e.which === 39){ // right arrow key
				handleTabKey(false);
			}else if(e.which === 38){ // up arrow key
				handleMovementY(true);
			}else if(e.which === 40){ // down arrow key
				handleMovementY(false);
			}else if(e.which === 9){ // tab key
				e.preventDefault();
				handleTabKey(e.shiftKey);
				return false;
			}else if(allowedKeys[e.which] != null){ // alphabet key
				handleOtherKeys(e);
			}else{
				return true; // ignore all other keys
		    }
		});

		function updateCheckLabels(checkbox){
			var checks = checkbox.closest('div.thumbnail').find('input[type=checkbox]');
			var container = checkbox.closest('div.thumbnail').find('div.labels ul');
			container.html('');
			var content = [];
			checks.each(function(){
				if(this.checked){
					if(auditMode){
						content.push('<li>');
						content.push('<span class="label label-info">' + $(this).parent().text() + '</span>');
						if ($(this).data('user-list') != null){
							var userList = $(this).data('user-list').split(',');
							for(var i = 0, len = userList.length; i < len; i++){
								content.push('&nbsp;<span class="label label-primary">' + userList[i] + '</span>');	
							}
						}
						content.push('</li>');
					} else {
						content.push('<li><span class="label label-info">' + $(this).parent().text() + '</span></li>');
					}
				}
			});
			container.html(content.join(''));
		}

		function updateProgress(checkbox){
			computeCompletedAsins();
			updateProgressUI();		
			updateSubmitState();
		}

		$('div.thumbnail input[type=checkbox]').on('change', function(e){
			updateCheckLabels($(this));
		});

		$('a[data-action=select-field]').click(function(e){
			e.preventDefault();
			var key = $(this).data('field-shortcut');
			handleLabelChange(key);
		});

		// select the first asin
		$('div[data-index=1]').attr('data-selected', 'true');

		// detect completed asins
		function computeCompletedAsins(){
			asinsCompleted = 0;
			$('div.thumbnail').each(function(){
				var ele = $(this);
				var asin = ele.data('asin');
				var checkedCount = ele.find('input:checked').length;
				if(checkedCount > 0){
					asinsCompleted = asinsCompleted + 1;
				}
			});
		}

		$('div.thumbnail').click(function(e){
			if(e.target.tagName.toLowerCase() != 'a'){
				$('div[data-selected]').removeAttr('data-selected');
				$(this).attr('data-selected', 'true');
			}
		});

		function updateProgressUI(){
			$('div.progress-bar').css('width', ((asinsCompleted / totalAsins) * 100) + '%');
			$('#completionNumbers').html(asinsCompleted + "/" + totalAsins + " Complete");
			$('#completionPercent').html(Math.floor((asinsCompleted / totalAsins) * 100) + '%');
		}
		 
		function updateSubmitState() {
			var taskCompleted = totalAsins !== asinsCompleted;
      			$('button[type=submit]').prop('disabled', taskCompleted);
                }

		updateProgress();
	});
</script>
<style>

	div[data-selected] {
		border-color: red;
		border-width: 2px;
	}

	form{
		margin-bottom: 0px;
	}

	.navbar-collapse {
  		text-align:center;
  	}
	
	.navbar-nav {
    	display:inline-block;
    	float:none;
  	}

  	.navbar-nav h3{
  		margin-top: 0px;
  		margin-bottom:0px;
  	}

  	.asin-block {
  		height: 475px;
  		overflow-y: auto;
  	}

  	.labels {
  		margin-top: 25px;
  	}

  	.labels li {
  		margin-top: 5px;
  	}

  	.search-info-item {
  		margin-left: 14px;
  		padding-top:8px;
  	}

  	.progress {
  		margin-bottom: 0px;
  	}

  	#search-info-row {
  		padding-left:15px;
  		margin-bottom:15px;
  	}

  	#asins-section, #wholePageJudgmentsSection {
  		height:calc(100vh - 125px);
  		overflow-y:auto;
  		position:relative
  	}

  	.thumbnail {
  		-webkit-transition: none;
  		-o-transition: none;
  		transition: none;
  	}

  	.progress-bar {
  		-webkit-transition: none;
  		-o-transition: none;
  		transition: none;
  	}

</style>

	</div>


</body></html>